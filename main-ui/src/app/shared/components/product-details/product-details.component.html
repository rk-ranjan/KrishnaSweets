<p-toast></p-toast>
<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000"></p-confirmDialog>
<div class="row m-2 p-4" style="background-color: white;" *ngIf="detailData">
  <div class="col-sm-5 pl-0">
    <div class="row p-0">
      <div class="col-sm-2 d-flex flex-column pl-0 pr-2">
        <div class="carousel-inner" *ngFor="let img of detailData.image; let i = index">
          <div class="carousel-item active" (click)="currentSlide = i">
            <img [src]="'data:image/jpg;base64,'+img.image.data" class="img-fluid img-thumbnail mt-2">
          </div>
        </div>
      </div>
      <div class="col-sm-10 pl-0 pr-0">
        <div class="carousel-inner" *ngFor="let img of detailData.image; let i = index">
          <div class="carousel-item active" *ngIf="i === currentSlide">
            <img [src]="'data:image/jpg;base64,'+img.image.data" class="img-fluid-lg">
          </div>
        </div>
        <div class="d-flex pt-3">
          <button class="mr-1 flex-fill p-2" mat-raised-button color="accent" (click)="addToCart()">ADD TO CART</button>
          <button class="flex-fill p-2" mat-raised-button color="primary" (click)="buyProduct(detailData.items._id)">BUY NOW</button>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-7">
    <div class="row p-4">
      <div class="col-sm-12 d-flex flex-column">
        <div class="card-title">
          <h4><strong>{{detailData.items.itemName}}</strong></h4>
        </div>
        <hr class="hr-default p-2">
        <div class="cake-price d-flex">
          <div class="rs-icon pt-1">
            <img src="../../../../assets/images/img-rs.png" width="35px" />
          </div>
          <div class="price mr-3">
            <h2> {{FinalPrice | number}}</h2>
          </div>
          <div class="discount d-flex flex-column">
            <p class="mb-0">Original: {{fixedPrice | number}}</p>
            <p class="pt-0">Discount: {{detailData.items.discountPercent}} %</p>
          </div>
        </div>
        <div class="feature pl-2" *ngIf="detailData.items.productId === 1">
          <p>Cake Flavour: {{detailData.items.flavour}}</p>
          <p>Type of Cake: {{detailData.items.creamUsed}}</p>
          <p>Type of Bread: {{detailData.items.bread}}</p>
          <p>more details</p>
        </div>
        <form [formGroup]="detailForm" (ngSubmit)="addToCart()">
          <div class="type p-1" *ngIf="detailData.items.productId === 1">
            <mat-checkbox [checked]="detailData.items.eggless" [disabled]="true">Eggless
            </mat-checkbox>
          </div>
          <div class="p-1">
            <mat-radio-group formControlName="weight" (change)="priceCalculator($event)">
              <mat-radio-button value="1">1 {{detailData.items.unit}} &nbsp;</mat-radio-button>
              <mat-radio-button value="2">2 {{detailData.items.unit}} &nbsp; </mat-radio-button>
              <mat-radio-button value="3">3 {{detailData.items.unit}} &nbsp; </mat-radio-button>
              <mat-radio-button value="4">4 {{detailData.items.unit}} &nbsp; </mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="message-text pt-2 p-1" *ngIf="detailData.items.productId === 1">
            <input type="text" placeholder="Message on Cake" formControlName="message" class="form-control" />
          </div>
        </form>
      </div>
      <div class="col-sm-4" style="background-color: white;">
        <br>
      </div>
      <!-- <div class="col-sm-4 p-4" style="background-color: #f1f1f1;">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputEmail4">Email</label>
            <input type="email" class="form-control" id="inputEmail4">
          </div>
          <div class="form-group col-md-6">
            <label for="inputPassword4">Password</label>
            <input type="password" class="form-control" id="inputPassword4">
          </div>
        </div>
        <div class="form-group">
          <label for="inputAddress">Address</label>
          <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
        </div>
        <div class="form-group">
          <label for="inputAddress2">Address 2</label>
          <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
        </div>
        <div class="form-group">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="gridCheck">
            <label class="form-check-label" for="gridCheck">
              Check me out
            </label>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Sign in</button>
      </div> -->
    </div>
  </div>
</div>